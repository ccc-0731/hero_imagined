{% extends 'base.html' %}
{% block content %}
  <section>
    <h2>Design Your Hero â€” Detected: {{ detected.topic }}</h2>
    <p><strong>Prompt:</strong> {{ raw_prompt }}</p>
    <div class="columns">
      <div class="column">
        <h3>Character Designer</h3>
        <form id="character-form">
          <input name="Age" placeholder="Age">
          <input name="World Setting" placeholder="World setting">
          <input name="Hair" placeholder="Hair">
          <input name="Skin" placeholder="Skin color">
          <input name="Superpower" placeholder="Superpower">
          <input name="Weapon" placeholder="Weapon">
          <input name="Personality" placeholder="Personality">
          <input name="Worst Fear" placeholder="Worst fear">
          <input name="Quirk" placeholder="Quirk">
          <textarea name="Backstory" placeholder="Short backstory"></textarea>
          <button type="button" id="gen-character">Generate Character</button>
        </form>
        <pre id="character-output" class="output"></pre>
      </div>

      <div class="column">
        <h3>World Builder</h3>
        <form id="world-form">
          <textarea name="Question1" placeholder="Describe a key mythical plant or animal"></textarea>
          <textarea name="Question2" placeholder="History and mythology"></textarea>
          <textarea name="Question3" placeholder="Legendary figures or heroes"></textarea>
          <textarea name="Question4" placeholder="Technology or magic details (if any)"></textarea>
          <button type="button" id="gen-world">Generate World</button>
        </form>
        <pre id="world-output" class="output"></pre>
      </div>
    </div>

    <div style="margin-top:20px;">
      <button id="craft-story" disabled>Craft Story</button>
    </div>

    <div id="final-section" style="margin-top:30px; display:none">
      <h2>Story</h2>
      <article id="story-text" class="story"></article>
      <div id="images" class="images"></div>
      <div id="audio-player"></div>
      <h3>Real-life Inspiration</h3>
      <div id="analogy" class="output"></div>
    </div>
  </section>
{% endblock %}
